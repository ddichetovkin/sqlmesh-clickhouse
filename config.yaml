# --- Gateway Connection ---
gateways:
  clickhouse:
    state_connection:
      type: duckdb
      database: local.duckdb
    connection:
      # For more information on configuring the connection to your execution engine, visit:
      # https://sqlmesh.readthedocs.io/en/stable/reference/configuration/#connection
      # https://sqlmesh.readthedocs.io/en/stable/integrations/engines/clickhouse/#connection-options
      type: clickhouse
      host: 81.177.175.49
      username: default
      # concurrent_tasks: 1
      # register_comments: True
      # pre_ping: False
      # pretty_sql: False
      # schema_differ_overrides: 
      # catalog_type_overrides: 
      password: ""
      # port: 
      # cluster: 
      # connect_timeout: 10
      # send_receive_timeout: 300
      # query_limit: 0
      # use_compression: True
      # compression_method: 
      # connection_settings: 
      # http_proxy: 
      # verify: True
      # ca_cert: 
      # client_cert: 
      # client_cert_key: 
      # https_proxy: 
      # server_host_name: 
      # tls_mode: 
      # connection_pool_options: 

default_gateway: clickhouse

# --- Model Defaults ---
# https://sqlmesh.readthedocs.io/en/stable/reference/model_configuration/#model-defaults

model_defaults:
  dialect: clickhouse
  start: 2025-10-14 # Start date for backfill history
  cron: '@daily'    # Run models daily at 12am UTC (can override per model)

# --- Linting Rules ---
# Enforce standards for your team
# https://sqlmesh.readthedocs.io/en/stable/guides/linter/

linter:
  enabled: true
  rules:
    - ambiguousorinvalidcolumn
    - invalidselectstarexpansion
    - noambiguousprojections
